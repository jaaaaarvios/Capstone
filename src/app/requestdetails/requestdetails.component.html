<!--HEADER------------------------------------------------>
<mat-toolbar>
    <img class="logo" mat-card-image src="../../assets/mainlogo.png" routerLink="/home">
    <label class="menuBtn" [matMenuTriggerFor]="menu">Our Services<mat-icon>expand_more</mat-icon></label>
    <mat-menu #menu="matMenu">
        <button mat-menu-item routerLink="/menu_aircon">Aircon</button>
        <button mat-menu-item routerLink="/menu_ref">Refrigerator</button>
        <button mat-menu-item routerLink="/menu_fan">Electric Fan</button>
        <button mat-menu-item routerLink="/menu_washing">Washing Machine</button>
        <button mat-menu-item routerLink="/menu_tv">Television</button>
    </mat-menu>

    <label class="pricingBtn" routerLink="/pricing">Pricing</label>
    <label class="contactUsBtn" routerLink="/contact_us">Contact Us</label>
    <label class="aboutusBtn" routerLink="/about_us">About Us</label>
    <label class="aboutusBtn" (click)="goDashboard()">Home</label>
</mat-toolbar>
<div class="container">
    <!--REQUEST SUMMARY------------------------------------------------>
    <div>
        <div>
            <h1 class="backBtn" routerLink="/dashboard">
                <mat-icon class="back"><b>keyboard_return</b></mat-icon>Back to Dashboard
            </h1>
        </div>
        <div>
            <button mat-raised-button (click)="open(cancelReason)" class="cancelBtn">Cancel Request</button>
        </div>

        <mat-card class="summary">
            <div>
                <mat-icon class="icon">description
                    <h1 class="title">Request Details</h1>
                </mat-icon>
            </div>
            <h1 class="personalinfotxt">Personal Information</h1>
            <table class="table">
                <thead>
                    <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Contact Number</th>
                        <th>Address</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{{data.service_firstname}}</td>
                        <td>{{data.service_lastname}}</td>
                        <td>{{data.service_phoneNumber}}</td>
                        <td>{{data.service_address}}</td>
                    </tr>
                </tbody>
                <thead>
                    <tr>
                        <th>Address Details</th>
                        <th>City</th>
                        <th>Property Type</th>
                        <th>Barangay</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{{data.service_addressDetails}}</td>
                        <td>{{data.service_city}}</td>
                        <td>{{data.service_property_type}}</td>
                        <td>{{data.service_barangay}}</td>
                    </tr>
                </tbody>
            </table>

            <h1 class="serviceinfotxt">Service Information</h1>
            <table class="table">
                <thead>
                    <tr>
                        <th>Appliance</th>
                        <th>Service</th>
                        <th>Brand</th>
                        <th>Unit Type</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{{data.service_appliance}}</td>
                        <td>{{data.service_type}}</td>
                        <td>{{data.service_brand}}</td>
                        <td>{{data.service_unitType}}</td>
                    </tr>
                </tbody>
                <thead>
                    <tr>
                        <th>Unit Problem</th>
                        <th>Scheduled Date</th>
                        <th>Time Slot</th>
                        <th>Instruction</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{{data.service_unitProb}}</td>
                        <td>{{data.service_date | date}}</td>
                        <td>{{data.service_timeslot}}</td>
                        <td>{{data.service_instruction}}</td>
                    </tr>
                </tbody>
            </table>
        </mat-card>
    </div>
    <!--Technicians Details------------------------------------------------>
    <table class="table">
        <thead>
            <tr>
                <th>Full Name</th>
                <th>Gender</th>
                <th>Number</th>
                <th>Address</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>{{technician.fullname}}</td>
                <td>{{technician.gender}}</td>
                <td>{{technician.number}}</td>
                <td>{{technician.address}}</td>
            </tr>
        </tbody>
    </table>
</div>

<ng-template #cancelReason let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Are you sure ?</h4>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <form [formGroup]="cancelreasonForm">
        <div class="modal-body">
            <div>
                <h6>Please share the reason to serve you better next time </h6>
                <button mat-stroked-button class="radioBtn" value="Schedule conflict">
                    <input type="radio" value="Schedule conflict" formControlName="reason" required>&nbsp;Schedule conflict.
                </button>
                <button mat-stroked-button class="radioBtn" value="Problem went away">
                    <input type="radio" value="Problem went away" formControlName="reason" required>&nbsp;Problem went away.
                </button>
                <button mat-stroked-button class="radioBtn" value="Found another provider">
                    <input type="radio" value="Found another provider" formControlName="reason" required>&nbsp;Found another provider.
                </button>
                <button mat-stroked-button class="radioBtn" value="Personal emergency">
                    <input type="radio" value="Personal emergency" formControlName="reason" required>&nbsp;Personal emergency.
                </button>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" id="close" class="btn btn-outline-primary" (click)="c('Close')">Keep my booking</button>
            <button type="button" class="btn btn-outline-danger" (click)="getConfirmation()">Cancel Request</button>
        </div>
    </form>
</ng-template>